{"dependencies":[{"name":"util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":11,"index":11},"end":{"line":1,"column":26,"index":26}}],"key":"plO20G0zye191TqKMAMeOagk9EI=","exportNames":["*"]}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":2,"column":13,"index":41},"end":{"line":2,"column":30,"index":58}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"]}},{"name":"delayed-stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":20,"index":87},"end":{"line":3,"column":45,"index":112}}],"key":"akjVE2fUlnRYe53qREKp6bBCfhE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=r(d[1]).Stream,n=r(d[2]);function o(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}m.exports=o,t.inherits(o,s),o.create=function(t){var s=new this;for(var n in t=t||{})s[n]=t[n];return s},o.isStreamLike=function(t){return'function'!=typeof t&&'string'!=typeof t&&'boolean'!=typeof t&&'number'!=typeof t&&!Buffer.isBuffer(t)},o.prototype.append=function(t){if(o.isStreamLike(t)){if(!(t instanceof n)){var s=n.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on('data',this._checkDataSize.bind(this)),t=s}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},o.prototype.pipe=function(t,n){return s.prototype.pipe.call(this,t,n),this.resume(),t},o.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},o.prototype._realGetNext=function(){var t=this._streams.shift();void 0!==t?'function'==typeof t?t(function(t){o.isStreamLike(t)&&(t.on('data',this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this)):this._pipeNext(t):this.end()},o.prototype._pipeNext=function(t){if(this._currentStream=t,o.isStreamLike(t))return t.on('end',this._getNext.bind(this)),void t.pipe(this,{end:!1});var s=t;this.write(s),this._getNext()},o.prototype._handleErrors=function(t){var s=this;t.on('error',function(t){s._emitError(t)})},o.prototype.write=function(t){this.emit('data',t)},o.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit('pause'))},o.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit('resume')},o.prototype.end=function(){this._reset(),this.emit('end')},o.prototype.destroy=function(){this._reset(),this.emit('close')},o.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},o.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t='DelayedStream#maxDataSize of '+this.maxDataSize+' bytes exceeded.';this._emitError(new Error(t))}},o.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(s){s.dataSize&&(t.dataSize+=s.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},o.prototype._emitError=function(t){this._reset(),this.emit('error',t)}});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"util"],[1,34,1,11,"require"],[1,36,1,18,"d"],[1,38,1,18],[1,42,2,4,"Stream"],[1,44,2,13,"require"],[1,46,2,20,"d"],[1,48,2,20],[1,52,2,31,"Stream"],[1,59,3,4,"DelayedStream"],[1,61,3,20,"require"],[1,63,3,27,"d"],[1,65,3,27],[1,69,6,0],[1,78,6,9,"CombinedStream"],[1,82,7,2,"this"],[1,87,7,7,"writable"],[1,97,7,18],[1,99,8,2,"this"],[1,104,8,7,"readable"],[1,114,8,18],[1,116,9,2,"this"],[1,121,9,7,"dataSize"],[1,130,9,18],[1,132,10,2,"this"],[1,137,10,7,"maxDataSize"],[1,149,10,18],[1,157,11,2,"this"],[1,162,11,7,"pauseStreams"],[1,176,11,22],[1,178,13,2,"this"],[1,183,13,7,"_released"],[1,194,13,19],[1,196,14,2,"this"],[1,201,14,7,"_streams"],[1,210,14,18],[1,213,15,2,"this"],[1,218,15,7,"_currentStream"],[1,233,15,24],[1,238,16,2,"this"],[1,243,16,7,"_insideLoop"],[1,256,16,21],[1,258,17,2,"this"],[1,263,17,7,"_pendingNext"],[1,277,17,22],[1,278,18,0],[1,279,5,0,"module"],[1,281,5,7,"exports"],[1,289,5,17,"CombinedStream"],[1,291,19,0,"util"],[1,293,19,5,"inherits"],[1,302,19,14,"CombinedStream"],[1,304,19,30,"Stream"],[1,307,21,0,"CombinedStream"],[1,309,21,15,"create"],[1,316,21,24],[1,325,21,33,"options"],[1,328,22,2],[1,332,22,6,"combinedStream"],[1,334,22,23],[1,338,22,27,"this"],[1,343,25,2],[1,347,25,7],[1,351,25,11,"option"],[1,356,24,2,"options"],[1,358,24,12,"options"],[1,361,24,23],[1,362,24,24],[1,364,26,4,"combinedStream"],[1,366,26,19,"option"],[1,369,26,29,"options"],[1,371,26,37,"option"],[1,374,29,2],[1,381,29,9,"combinedStream"],[1,382,30,0],[1,384,32,0,"CombinedStream"],[1,386,32,15,"isStreamLike"],[1,399,32,30],[1,408,32,39,"stream"],[1,411,33,2],[1,417,33,28],[1,436,33,17,"stream"],[1,439,34,26],[1,456,34,15,"stream"],[1,459,35,26],[1,477,35,15,"stream"],[1,480,36,26],[1,497,36,15,"stream"],[1,501,37,9,"Buffer"],[1,508,37,16,"isBuffer"],[1,517,37,25,"stream"],[1,519,38,0],[1,521,40,0,"CombinedStream"],[1,523,40,15,"prototype"],[1,533,40,25,"append"],[1,540,40,34],[1,549,40,43,"stream"],[1,552,43,2],[1,555,41,21,"CombinedStream"],[1,557,41,36,"isStreamLike"],[1,570,41,49,"stream"],[1,573,43,20],[1,574,44,4],[1,579,44,10,"stream"],[1,592,44,28,"DelayedStream"],[1,595,44,44],[1,596,45,6],[1,600,45,10,"newStream"],[1,602,45,22,"DelayedStream"],[1,604,45,36,"create"],[1,611,45,43,"stream"],[1,613,45,51],[1,614,46,8,"maxDataSize"],[1,626,46,21,"Infinity"],[1,630,47,8,"pauseStream"],[1,642,47,21,"this"],[1,647,47,26,"pauseStreams"],[1,662,49,6,"stream"],[1,664,49,13,"on"],[1,667,49,16],[1,674,49,24,"this"],[1,679,49,29,"_checkDataSize"],[1,694,49,44,"bind"],[1,699,49,49,"this"],[1,706,50,6,"stream"],[1,708,50,15,"newStream"],[1,709,51,4],[1,710,53,4,"this"],[1,715,53,9,"_handleErrors"],[1,729,53,23,"stream"],[1,732,55,8,"this"],[1,737,55,13,"pauseStreams"],[1,751,56,6,"stream"],[1,753,56,13,"pause"],[1,760,58,2],[1,761,61,2],[1,768,60,2,"this"],[1,773,60,7,"_streams"],[1,782,60,16,"push"],[1,787,60,21,"stream"],[1,790,61,9,"this"],[1,794,62,0],[1,796,64,0,"CombinedStream"],[1,798,64,15,"prototype"],[1,808,64,25,"pipe"],[1,813,64,32],[1,822,64,41,"dest"],[1,824,64,47,"options"],[1,827,67,2],[1,834,65,2,"Stream"],[1,836,65,9,"prototype"],[1,846,65,19,"pipe"],[1,851,65,24,"call"],[1,856,65,29,"this"],[1,861,65,35,"dest"],[1,863,65,41,"options"],[1,866,66,2,"this"],[1,871,66,7,"resume"],[1,880,67,9,"dest"],[1,881,68,0],[1,883,70,0,"CombinedStream"],[1,885,70,15,"prototype"],[1,895,70,25,"_getNext"],[1,904,70,36],[1,915,73,2],[1,918,71,2,"this"],[1,923,71,7,"_currentStream"],[1,938,71,24],[1,943,73,6,"this"],[1,948,73,11,"_insideLoop"],[1,960,74,4,"this"],[1,965,74,9,"_pendingNext"],[1,979,74,24],[1,985,73,2],[1,986,78,2,"this"],[1,991,78,7,"_insideLoop"],[1,1004,78,21],[1,1006,79,2],[1,1010,80,4],[1,1013,81,6,"this"],[1,1018,81,11,"_pendingNext"],[1,1032,81,26],[1,1034,82,6,"this"],[1,1039,82,11,"_realGetNext"],[1,1060,83,13,"this"],[1,1065,83,18,"_pendingNext"],[1,1078,84,2],[1,1079,84,3],[1,1087,85,4,"this"],[1,1092,85,9,"_insideLoop"],[1,1105,85,23],[1,1106,86,2],[1,1107,76,2],[1,1108,87,0],[1,1110,89,0,"CombinedStream"],[1,1112,89,15,"prototype"],[1,1122,89,25,"_realGetNext"],[1,1135,89,40],[1,1146,90,2],[1,1150,90,6,"stream"],[1,1152,90,15,"this"],[1,1157,90,20,"_streams"],[1,1166,90,29,"shift"],[1,1179,93,23],[1,1183,93,13,"stream"],[1,1185,98,24],[1,1204,98,13,"stream"],[1,1206,103,18,"stream"],[1,1208,104,12],[1,1217,104,21,"stream"],[1,1220,105,23,"CombinedStream"],[1,1222,105,38,"isStreamLike"],[1,1235,105,51,"stream"],[1,1240,107,6,"stream"],[1,1242,107,13,"on"],[1,1245,107,16],[1,1252,107,24,"this"],[1,1257,107,29,"_checkDataSize"],[1,1272,107,44,"bind"],[1,1277,107,49,"this"],[1,1284,108,6,"this"],[1,1289,108,11,"_handleErrors"],[1,1303,108,25,"stream"],[1,1307,111,4,"this"],[1,1312,111,9,"_pipeNext"],[1,1322,111,19,"stream"],[1,1324,112,2],[1,1326,112,4,"bind"],[1,1331,112,9,"this"],[1,1338,99,4,"this"],[1,1343,99,9,"_pipeNext"],[1,1353,99,19,"stream"],[1,1356,94,4,"this"],[1,1361,94,9,"end"],[1,1366,113,0],[1,1368,115,0,"CombinedStream"],[1,1370,115,15,"prototype"],[1,1380,115,25,"_pipeNext"],[1,1390,115,37],[1,1399,115,46,"stream"],[1,1402,119,2],[1,1405,116,2,"this"],[1,1410,116,7,"_currentStream"],[1,1425,116,24,"stream"],[1,1427,118,21,"CombinedStream"],[1,1429,118,36,"isStreamLike"],[1,1442,118,49,"stream"],[1,1445,122,4],[1,1452,120,4,"stream"],[1,1454,120,11,"on"],[1,1457,120,14],[1,1463,120,21,"this"],[1,1468,120,26,"_getNext"],[1,1477,120,35,"bind"],[1,1482,120,40,"this"],[1,1494,121,4,"stream"],[1,1496,121,11,"pipe"],[1,1501,121,16,"this"],[1,1506,121,22],[1,1507,121,23,"end"],[1,1512,121,28],[1,1516,125,2],[1,1520,125,6,"value"],[1,1522,125,14,"stream"],[1,1524,126,2,"this"],[1,1529,126,7,"write"],[1,1535,126,13,"value"],[1,1538,127,2,"this"],[1,1543,127,7,"_getNext"],[1,1553,128,0],[1,1555,130,0,"CombinedStream"],[1,1557,130,15,"prototype"],[1,1567,130,25,"_handleErrors"],[1,1581,130,41],[1,1590,130,50,"stream"],[1,1593,131,2],[1,1597,131,6,"self"],[1,1599,131,13,"this"],[1,1604,132,2,"stream"],[1,1606,132,9,"on"],[1,1609,132,12],[1,1617,132,21],[1,1626,132,30,"err"],[1,1629,133,4,"self"],[1,1631,133,9,"_emitError"],[1,1642,133,20,"err"],[1,1644,134,2],[1,1646,135,0],[1,1648,137,0,"CombinedStream"],[1,1650,137,15,"prototype"],[1,1660,137,25,"write"],[1,1666,137,33],[1,1675,137,42,"data"],[1,1678,138,2,"this"],[1,1683,138,7,"emit"],[1,1688,138,12],[1,1695,138,20,"data"],[1,1697,139,0],[1,1699,141,0,"CombinedStream"],[1,1701,141,15,"prototype"],[1,1711,141,25,"pause"],[1,1717,141,33],[1,1728,142,7,"this"],[1,1733,142,12,"pauseStreams"],[1,1748,146,5,"this"],[1,1753,146,10,"pauseStreams"],[1,1767,146,26,"this"],[1,1772,146,31,"_currentStream"],[1,1788,146,86],[1,1807,146,56,"this"],[1,1812,146,61,"_currentStream"],[1,1827,146,76,"pause"],[1,1834,146,98,"this"],[1,1839,146,103,"_currentStream"],[1,1854,146,118,"pause"],[1,1862,147,2,"this"],[1,1867,147,7,"emit"],[1,1872,147,12],[1,1881,148,0],[1,1883,150,0,"CombinedStream"],[1,1885,150,15,"prototype"],[1,1895,150,25,"resume"],[1,1902,150,34],[1,1913,151,7,"this"],[1,1918,151,12,"_released"],[1,1930,152,4,"this"],[1,1935,152,9,"_released"],[1,1946,152,21],[1,1948,153,4,"this"],[1,1953,153,9,"writable"],[1,1963,153,20],[1,1965,154,4,"this"],[1,1970,154,9,"_getNext"],[1,1982,157,5,"this"],[1,1987,157,10,"pauseStreams"],[1,2001,157,26,"this"],[1,2006,157,31,"_currentStream"],[1,2022,157,87],[1,2041,157,56,"this"],[1,2046,157,61,"_currentStream"],[1,2061,157,76,"resume"],[1,2069,157,99,"this"],[1,2074,157,104,"_currentStream"],[1,2089,157,119,"resume"],[1,2098,158,2,"this"],[1,2103,158,7,"emit"],[1,2108,158,12],[1,2117,159,0],[1,2119,161,0,"CombinedStream"],[1,2121,161,15,"prototype"],[1,2131,161,25,"end"],[1,2135,161,31],[1,2146,162,2,"this"],[1,2151,162,7,"_reset"],[1,2160,163,2,"this"],[1,2165,163,7,"emit"],[1,2170,163,12],[1,2176,164,0],[1,2178,166,0,"CombinedStream"],[1,2180,166,15,"prototype"],[1,2190,166,25,"destroy"],[1,2198,166,35],[1,2209,167,2,"this"],[1,2214,167,7,"_reset"],[1,2223,168,2,"this"],[1,2228,168,7,"emit"],[1,2233,168,12],[1,2241,169,0],[1,2243,171,0,"CombinedStream"],[1,2245,171,15,"prototype"],[1,2255,171,25,"_reset"],[1,2262,171,34],[1,2273,172,2,"this"],[1,2278,172,7,"writable"],[1,2288,172,18],[1,2290,173,2,"this"],[1,2295,173,7,"_streams"],[1,2304,173,18],[1,2307,174,2,"this"],[1,2312,174,7,"_currentStream"],[1,2327,174,24],[1,2331,175,0],[1,2333,177,0,"CombinedStream"],[1,2335,177,15,"prototype"],[1,2345,177,25,"_checkDataSize"],[1,2360,177,42],[1,2371,179,2],[1,2374,178,2,"this"],[1,2379,178,7,"_updateDataSize"],[1,2399,179,6,"this"],[1,2404,179,11,"dataSize"],[1,2414,179,23,"this"],[1,2419,179,28,"maxDataSize"],[1,2432,179,2],[1,2433,183,2],[1,2437,183,6,"message"],[1,2439,184,4],[1,2471,184,38,"this"],[1,2476,184,43,"maxDataSize"],[1,2488,184,57],[1,2507,185,2,"this"],[1,2512,185,7,"_emitError"],[1,2523,185,18],[1,2527,185,22,"Error"],[1,2533,185,28,"message"],[1,2536,181,2],[1,2537,186,0],[1,2539,188,0,"CombinedStream"],[1,2541,188,15,"prototype"],[1,2551,188,25,"_updateDataSize"],[1,2567,188,43],[1,2578,189,2,"this"],[1,2583,189,7,"dataSize"],[1,2592,189,18],[1,2594,191,2],[1,2598,191,6,"self"],[1,2600,191,13,"this"],[1,2605,192,2,"this"],[1,2610,192,7,"_streams"],[1,2619,192,16,"forEach"],[1,2627,192,24],[1,2636,192,33,"stream"],[1,2639,193,9,"stream"],[1,2641,193,16,"dataSize"],[1,2652,197,4,"self"],[1,2654,197,9,"dataSize"],[1,2664,197,21,"stream"],[1,2666,197,28,"dataSize"],[1,2675,198,2],[1,2678,200,6,"this"],[1,2683,200,11,"_currentStream"],[1,2699,200,29,"this"],[1,2704,200,34,"_currentStream"],[1,2719,200,49,"dataSize"],[1,2730,201,4,"this"],[1,2735,201,9,"dataSize"],[1,2745,201,21,"this"],[1,2750,201,26,"_currentStream"],[1,2765,201,41,"dataSize"],[1,2774,203,0],[1,2776,205,0,"CombinedStream"],[1,2778,205,15,"prototype"],[1,2788,205,25,"_emitError"],[1,2799,205,38],[1,2808,205,47,"err"],[1,2811,206,2,"this"],[1,2816,206,7,"_reset"],[1,2825,207,2,"this"],[1,2830,207,7,"emit"],[1,2835,207,12],[1,2843,207,21,"err"],[1,2845,208,0],[1,2846,208,2],[1,2849]],"functionMap":{"names":["<global>","CombinedStream","CombinedStream.create","CombinedStream.isStreamLike","CombinedStream.prototype.append","CombinedStream.prototype.pipe","CombinedStream.prototype._getNext","CombinedStream.prototype._realGetNext","<anonymous>","CombinedStream.prototype._pipeNext","CombinedStream.prototype._handleErrors","stream.on$argument_1","CombinedStream.prototype.write","CombinedStream.prototype.pause","CombinedStream.prototype.resume","CombinedStream.prototype.end","CombinedStream.prototype.destroy","CombinedStream.prototype._reset","CombinedStream.prototype._checkDataSize","CombinedStream.prototype._updateDataSize","_streams.forEach$argument_0","CombinedStream.prototype._emitError"],"mappings":"AAA;ACK;CDY;wBEG;CFS;8BGE;CHM;kCIE;CJsB;gCKE;CLI;oCME;CNiB;wCOE;YCe;GDQ;CPC;qCSE;CTa;yCUE;qBCE;GDE;CVC;iCYE;CZE;iCaE;CbO;kCcE;CdS;+BeE;CfG;mCgBE;ChBG;kCiBE;CjBI;0CkBE;ClBS;2CmBE;wBCI;GDM;CnBK;sCqBE;CrBG"}},"type":"js/module"}]}