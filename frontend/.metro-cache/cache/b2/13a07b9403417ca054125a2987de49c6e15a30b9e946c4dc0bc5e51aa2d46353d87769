{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"stream","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":28,"index":43}}],"key":"zqzemo30Pa+agKo6Jlvuf3baHHA=","exportNames":["*"]}},{"name":"../utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":44},"end":{"line":4,"column":32,"index":76}}],"key":"dGswK136diHRCgUa8xpQUn/UMbc=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2]));const u=Symbol('internals');class l extends n.default.Transform{constructor(t){super({readableHighWaterMark:(t=s.default.toFlatObject(t,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(t,n)=>!s.default.isUndefined(n[t]))).chunkSize});const n=this[u]={timeWindow:t.timeWindow,chunkSize:t.chunkSize,maxRate:t.maxRate,minChunkSize:t.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on('newListener',t=>{'progress'===t&&(n.isCaptured||(n.isCaptured=!0))})}_read(t){const n=this[u];return n.onReadCallback&&n.onReadCallback(),super._read(t)}_transform(t,n,s){const l=this[u],o=l.maxRate,c=this.readableHighWaterMark,b=l.timeWindow,h=o/(1e3/b),f=!1!==l.minChunkSize?Math.max(l.minChunkSize,.01*h):0,k=(t,n)=>{const s=Buffer.byteLength(t);l.bytesSeen+=s,l.bytes+=s,l.isCaptured&&this.emit('progress',l.bytesSeen),this.push(t)?process.nextTick(n):l.onReadCallback=()=>{l.onReadCallback=null,process.nextTick(n)}},y=(t,n)=>{const s=Buffer.byteLength(t);let u,y=null,C=c,p=0;if(o){const t=Date.now();(!l.ts||(p=t-l.ts)>=b)&&(l.ts=t,u=h-l.bytes,l.bytes=u<0?-u:0,p=0),u=h-l.bytes}if(o){if(u<=0)return setTimeout(()=>{n(null,t)},b-p);u<C&&(C=u)}C&&s>C&&s-C>f&&(y=t.subarray(C),t=t.subarray(0,C)),k(t,y?()=>{process.nextTick(n,null,y)}:n)};y(t,function t(n,u){if(n)return s(n);u?y(u,t):s(null)})}}e.default=l});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13],[1,45,1,13,"_interopRequireDefault"],[1,47,1,13,"r"],[1,49,1,13,"d"],[1,51,1,13],[1,55,1,13,"Object"],[1,62,1,13,"defineProperty"],[1,77,1,13,"e"],[1,79,1,13],[1,93,1,13,"value"],[1,100,1,13],[1,104,1,13,"e"],[1,106,1,13,"default"],[1,119,1,13,"undefined"],[1,121,3,0],[1,125,3,0,"_stream"],[1,127,3,0,"_interopRequireDefault"],[1,129,3,0,"r"],[1,131,3,0,"d"],[1,133,3,0],[1,138,4,0,"_utils"],[1,140,4,0,"_interopRequireDefault"],[1,142,4,0,"r"],[1,144,4,0,"d"],[1,146,4,0],[1,151,6,0],[1,157,6,6,"kInternals"],[1,159,6,19,"Symbol"],[1,166,6,26],[1,179,8,0],[1,185,8,6,"AxiosTransformStream"],[1,195,8,35,"stream"],[1,205,8,42,"Transform"],[1,215,9,2,"constructor"],[1,227,9,14,"options"],[1,230,21,4,"super"],[1,236,21,10],[1,237,22,6,"readableHighWaterMark"],[1,260,10,4,"options"],[1,262,10,14,"utils"],[1,272,10,20,"toFlatObject"],[1,285,10,33,"options"],[1,287,10,42],[1,288,11,6,"maxRate"],[1,296,11,15],[1,298,12,6,"chunkSize"],[1,308,12,15],[1,314,13,6,"minChunkSize"],[1,327,13,20],[1,331,14,6,"timeWindow"],[1,342,14,18],[1,346,15,6,"ticksRate"],[1,356,15,17],[1,358,16,6,"samplesCount"],[1,371,16,20],[1,375,17,7],[1,380,17,13],[1,381,17,14,"prop"],[1,383,17,20,"source"],[1,388,18,14,"utils"],[1,398,18,20,"isUndefined"],[1,410,18,32,"source"],[1,412,18,39,"prop"],[1,418,22,37,"chunkSize"],[1,430,25,4],[1,436,25,10,"internals"],[1,438,25,22,"this"],[1,443,25,27,"kInternals"],[1,446,25,41],[1,447,26,6,"timeWindow"],[1,458,26,18,"options"],[1,460,26,26,"timeWindow"],[1,471,27,6,"chunkSize"],[1,481,27,17,"options"],[1,483,27,25,"chunkSize"],[1,493,28,6,"maxRate"],[1,501,28,15,"options"],[1,503,28,23,"maxRate"],[1,511,29,6,"minChunkSize"],[1,524,29,20,"options"],[1,526,29,28,"minChunkSize"],[1,539,30,6,"bytesSeen"],[1,549,30,17],[1,551,31,6,"isCaptured"],[1,563,31,18],[1,565,32,6,"notifiedBytesLoaded"],[1,585,32,27],[1,587,33,6,"ts"],[1,590,33,10,"Date"],[1,595,33,15,"now"],[1,601,34,6,"bytes"],[1,607,34,13],[1,609,35,6,"onReadCallback"],[1,624,35,22],[1,630,38,4,"this"],[1,635,38,9,"on"],[1,638,38,12],[1,652,38,27,"event"],[1,656,39,20],[1,669,39,10,"event"],[1,673,40,13,"internals"],[1,675,40,23,"isCaptured"],[1,688,41,10,"internals"],[1,690,41,20,"isCaptured"],[1,702,41,33],[1,707,45,2],[1,708,47,2,"_read"],[1,714,47,8,"size"],[1,717,48,4],[1,723,48,10,"internals"],[1,725,48,22,"this"],[1,730,48,27,"kInternals"],[1,733,54,4],[1,740,50,8,"internals"],[1,742,50,18,"onReadCallback"],[1,758,51,6,"internals"],[1,760,51,16,"onReadCallback"],[1,777,54,11,"super"],[1,783,54,17,"_read"],[1,789,54,23,"size"],[1,791,55,2],[1,792,57,2,"_transform"],[1,803,57,13,"chunk"],[1,805,57,20,"encoding"],[1,807,57,30,"callback"],[1,810,58,4],[1,816,58,10,"internals"],[1,818,58,22,"this"],[1,823,58,27,"kInternals"],[1,826,59,10,"maxRate"],[1,828,59,20,"internals"],[1,830,59,30,"maxRate"],[1,838,61,10,"readableHighWaterMark"],[1,840,61,34,"this"],[1,845,61,39,"readableHighWaterMark"],[1,867,63,10,"timeWindow"],[1,869,63,23,"internals"],[1,871,63,33,"timeWindow"],[1,882,66,10,"bytesThreshold"],[1,884,66,28,"maxRate"],[1,887,65,20],[1,891,65,27,"timeWindow"],[1,894,67,10,"minChunkSize"],[1,897,67,52],[1,901,67,25,"internals"],[1,903,67,35,"minChunkSize"],[1,916,67,60,"Math"],[1,921,67,65,"max"],[1,925,67,69,"internals"],[1,927,67,79,"minChunkSize"],[1,940,67,110],[1,944,67,93,"bytesThreshold"],[1,947,67,118],[1,949,69,10,"pushChunk"],[1,951,69,22,"pushChunk"],[1,952,69,23,"_chunk"],[1,954,69,31,"_callback"],[1,959,70,6],[1,965,70,12,"bytes"],[1,967,70,20,"Buffer"],[1,974,70,27,"byteLength"],[1,985,70,38,"_chunk"],[1,988,71,6,"internals"],[1,990,71,16,"bytesSeen"],[1,1001,71,29,"bytes"],[1,1003,72,6,"internals"],[1,1005,72,16,"bytes"],[1,1012,72,25,"bytes"],[1,1014,74,6,"internals"],[1,1016,74,16,"isCaptured"],[1,1028,74,30,"this"],[1,1033,74,35,"emit"],[1,1038,74,40],[1,1049,74,52,"internals"],[1,1051,74,62,"bytesSeen"],[1,1062,76,10,"this"],[1,1067,76,15,"push"],[1,1072,76,20,"_chunk"],[1,1075,77,8,"process"],[1,1083,77,16,"nextTick"],[1,1092,77,25,"_callback"],[1,1095,79,8,"internals"],[1,1097,79,18,"onReadCallback"],[1,1112,79,35],[1,1117,80,10,"internals"],[1,1119,80,20,"onReadCallback"],[1,1134,80,37],[1,1139,81,10,"process"],[1,1147,81,18,"nextTick"],[1,1156,81,27,"_callback"],[1,1161,86,10,"transformChunk"],[1,1163,86,27,"transformChunk"],[1,1164,86,28,"_chunk"],[1,1166,86,36,"_callback"],[1,1171,87,6],[1,1177,87,12,"chunkSize"],[1,1179,87,24,"Buffer"],[1,1186,87,31,"byteLength"],[1,1197,87,42,"_chunk"],[1,1200,88,6],[1,1204,90,10,"bytesLeft"],[1,1206,88,10,"chunkRemainder"],[1,1208,88,27],[1,1213,89,10,"maxChunkSize"],[1,1215,89,25,"readableHighWaterMark"],[1,1217,91,10,"passed"],[1,1219,91,19],[1,1221,93,6],[1,1224,93,10,"maxRate"],[1,1226,93,19],[1,1227,94,8],[1,1233,94,14,"now"],[1,1235,94,20,"Date"],[1,1240,94,25,"now"],[1,1248,96,13,"internals"],[1,1250,96,23,"ts"],[1,1255,96,30,"passed"],[1,1257,96,40,"now"],[1,1259,96,46,"internals"],[1,1261,96,56,"ts"],[1,1266,96,64,"timeWindow"],[1,1271,97,10,"internals"],[1,1273,97,20,"ts"],[1,1276,97,25,"now"],[1,1278,98,10,"bytesLeft"],[1,1280,98,22,"bytesThreshold"],[1,1282,98,39,"internals"],[1,1284,98,49,"bytes"],[1,1290,99,10,"internals"],[1,1292,99,20,"bytes"],[1,1298,99,28,"bytesLeft"],[1,1300,99,40],[1,1303,99,45,"bytesLeft"],[1,1305,99,57],[1,1307,100,10,"passed"],[1,1309,100,19],[1,1312,103,8,"bytesLeft"],[1,1314,103,20,"bytesThreshold"],[1,1316,103,37,"internals"],[1,1318,103,47,"bytes"],[1,1323,104,6],[1,1324,106,6],[1,1327,106,10,"maxRate"],[1,1329,106,19],[1,1330,107,8],[1,1333,107,12,"bytesLeft"],[1,1336,107,25],[1,1338,109,10],[1,1345,109,17,"setTimeout"],[1,1356,109,28],[1,1361,110,12,"_callback"],[1,1363,110,22],[1,1368,110,28,"_chunk"],[1,1372,111,13,"timeWindow"],[1,1374,111,26,"passed"],[1,1377,114,12,"bytesLeft"],[1,1379,114,24,"maxChunkSize"],[1,1383,115,10,"maxChunkSize"],[1,1385,115,25,"bytesLeft"],[1,1387,117,6],[1,1388,119,10,"maxChunkSize"],[1,1391,119,26,"chunkSize"],[1,1393,119,38,"maxChunkSize"],[1,1396,119,55,"chunkSize"],[1,1398,119,67,"maxChunkSize"],[1,1400,119,83,"minChunkSize"],[1,1404,120,8,"chunkRemainder"],[1,1406,120,25,"_chunk"],[1,1408,120,32,"subarray"],[1,1417,120,41,"maxChunkSize"],[1,1420,121,8,"_chunk"],[1,1422,121,17,"_chunk"],[1,1424,121,24,"subarray"],[1,1433,121,33],[1,1435,121,36,"maxChunkSize"],[1,1439,124,6,"pushChunk"],[1,1441,124,16,"_chunk"],[1,1443,124,24,"chunkRemainder"],[1,1445,124,41],[1,1450,125,8,"process"],[1,1458,125,16,"nextTick"],[1,1467,125,25,"_callback"],[1,1469,125,36],[1,1474,125,42,"chunkRemainder"],[1,1478,126,10,"_callback"],[1,1482,129,4,"transformChunk"],[1,1484,129,19,"chunk"],[1,1486,129,26],[1,1495,129,35,"transformNextChunk"],[1,1497,129,54,"err"],[1,1499,129,59,"_chunk"],[1,1502,130,6],[1,1505,130,10,"err"],[1,1507,131,8],[1,1514,131,15,"callback"],[1,1516,131,24,"err"],[1,1519,134,10,"_chunk"],[1,1521,135,8,"transformChunk"],[1,1523,135,23,"_chunk"],[1,1525,135,31,"transformNextChunk"],[1,1528,137,8,"callback"],[1,1530,137,17],[1,1535,139,4],[1,1537,140,2],[1,1539,141,1,"e"],[1,1541,141,1,"default"],[1,1549,143,15,"AxiosTransformStream"],[1,1550,143,35],[1,1553]],"functionMap":{"names":["<global>","AxiosTransformStream","constructor","utils.toFlatObject$argument_3","on$argument_1","_read","_transform","pushChunk","internals.onReadCallback","transformChunk","setTimeout$argument_0","<anonymous>","transformNextChunk"],"mappings":"AAA;ACO;ECC;aCQ;KDE;2BEmB;KFM;GDC;EIE;GJQ;EKE;sBCY;mCCU;SDG;KDE;2BGE;4BCuB;WDE;yCEa;OFE;KHC;0BME;KNU;GLC;CDC"}},"type":"js/module"}]}