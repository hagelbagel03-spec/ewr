{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"]}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var t=(function(e,t){if(\"function\"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,l,r={__proto__:null,default:e};if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return r;if(i=t?o:n){if(i.has(e))return i.get(e);i.set(e,r)}for(const t in e)\"default\"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?i(r,t,l):r[t]=e[t]);return r})(e,t)})(_r(d[1])),n=e(_r(d[2])),o=e(_r(d[3])),i=e(_r(d[4])),l=_r(d[5]);const r=i.default.create({container:{marginBottom:16},mapHeader:{marginBottom:12},mapTitle:{fontSize:18,fontWeight:'600',marginBottom:4},mapSubtitle:{fontSize:14,color:'#666'},loadingText:{textAlign:'center',fontSize:16,padding:40,color:'#666'},mapLegend:{flexDirection:'row',justifyContent:'space-around',marginTop:8,paddingHorizontal:16},legendItem:{fontSize:12,color:'#666'}});_e.default=({incident:e,user:i,token:s})=>{const[c,f]=(0,t.useState)(null),[p,u]=(0,t.useState)(!1),[w,h]=(0,t.useState)([]);(0,t.useEffect)(()=>{window.google&&u(!0)},[]);const x=(0,t.useCallback)(async()=>{try{const e=s?{headers:{Authorization:`Bearer ${s}`}}:{},t=await fetch(\"http://212.227.57.238:8001/api/locations/live\",e);if(t.ok){const e=await t.json();h(e)}}catch(e){console.error('Fehler beim Laden der Beamten-Positionen:',e)}},[s]);(0,t.useEffect)(()=>{0},[p,e,x]);const y=t=>{t&&window.google&&w.forEach((n,o)=>{if(n.location&&n.location.lat&&n.location.lng){const i=new window.google.maps.Marker({position:{lat:n.location.lat,lng:n.location.lng},map:t,title:`Beamter ${o+1}`,icon:{url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(\"\\n              <svg width=\\\"28\\\" height=\\\"28\\\" viewBox=\\\"0 0 28 28\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                <circle cx=\\\"14\\\" cy=\\\"14\\\" r=\\\"12\\\" fill=\\\"#2196F3\\\" stroke=\\\"#FFFFFF\\\" stroke-width=\\\"3\\\"/>\\n                <text x=\\\"14\\\" y=\\\"19\\\" text-anchor=\\\"middle\\\" fill=\\\"white\\\" font-size=\\\"12\\\" font-weight=\\\"bold\\\">\\ud83d\\udc6e</text>\\n              </svg>\\n            \"),scaledSize:new window.google.maps.Size(28,28)}}),l=new window.google.maps.LatLng(e.location.lat,e.location.lng),r=new window.google.maps.LatLng(n.location.lat,n.location.lng),s=(window.google.maps.geometry.spherical.computeDistanceBetween(l,r)/1e3).toFixed(1),c=new window.google.maps.InfoWindow({content:`\\n            <div style=\"padding: 10px; max-width: 200px;\">\\n              <h3 style=\"margin: 0 0 8px 0; color: #2196F3;\">\\ud83d\\udc6e\\u200d\\u2642\\ufe0f Beamter ${o+1}</h3>\\n              <p style=\"margin: 0 0 4px 0;\"><strong>Status:</strong> Im Dienst</p>\\n              <p style=\"margin: 0 0 4px 0;\"><strong>Entfernung zum Vorfall:</strong> ${s} km</p>\\n              <p style=\"margin: 0; font-size: 12px; color: #666;\">\\n                Zuletzt aktualisiert: ${new Date(n.timestamp).toLocaleTimeString('de-DE')}\\n              </p>\\n            </div>\\n          `});i.addListener('click',()=>{c.open(t,i)})}})};return(0,t.useEffect)(()=>{c&&w.length>0&&y(c)},[w,c]),p?(0,l.jsxs)(n.default,{style:r.container,children:[(0,l.jsxs)(n.default,{style:r.mapHeader,children:[(0,l.jsx)(o.default,{style:r.mapTitle,children:\"\\ud83d\\uddfa\\ufe0f Live-Karte\"}),(0,l.jsxs)(o.default,{style:r.mapSubtitle,children:[\"\\ud83d\\udccd Vorfall-Position \\u2022 \\ud83d\\udc6e\\u200d\\u2642\\ufe0f \",w.length,\" Beamte im Dienst\"]})]}),(0,l.jsx)(\"div\",{id:\"google-map\",style:{width:'100%',height:300,borderRadius:12,border:'2px solid #e0e0e0'}}),(0,l.jsxs)(n.default,{style:r.mapLegend,children:[(0,l.jsx)(o.default,{style:r.legendItem,children:\"\\ud83d\\udd34 Vorfall-Position\"}),(0,l.jsx)(o.default,{style:r.legendItem,children:\"\\ud83d\\udd35 Beamten-Positionen\"})]})]}):(0,l.jsx)(n.default,{style:r.container,children:(0,l.jsx)(o.default,{style:r.loadingText,children:\"\\ud83d\\uddfa\\ufe0f Lade Google Maps...\"})})}});","lineCount":1,"map":[[1,114,1,0],[1,118,1,0,"_react"],[1,121,1,64],[1,130,1,64,"e"],[1,132,1,64,"t"],[1,135,1,64],[1,157,1,64,"WeakMap"],[1,165,1,64],[1,169,1,64,"r"],[1,171,1,64],[1,175,1,64,"WeakMap"],[1,183,1,64,"n"],[1,185,1,64],[1,189,1,64,"WeakMap"],[1,197,1,64],[1,213,1,64,"e"],[1,215,1,64,"t"],[1,218,1,64],[1,222,1,64,"t"],[1,225,1,64,"e"],[1,230,1,64,"__esModule"],[1,241,1,64],[1,248,1,64,"e"],[1,250,1,64],[1,254,1,64,"o"],[1,256,1,64,"i"],[1,258,1,64,"f"],[1,260,1,64],[1,261,1,64,"__proto__"],[1,271,1,64],[1,276,1,64,"default"],[1,284,1,64,"e"],[1,287,1,64],[1,297,1,64,"e"],[1,300,1,64],[1,317,1,64,"e"],[1,320,1,64],[1,339,1,64,"e"],[1,341,1,64],[1,348,1,64,"f"],[1,350,1,64],[1,353,1,64,"o"],[1,355,1,64,"t"],[1,357,1,64,"n"],[1,359,1,64,"r"],[1,361,1,64],[1,365,1,64,"o"],[1,367,1,64,"has"],[1,371,1,64,"e"],[1,374,1,64],[1,381,1,64,"o"],[1,383,1,64,"get"],[1,387,1,64,"e"],[1,390,1,64,"o"],[1,392,1,64,"set"],[1,396,1,64,"e"],[1,398,1,64,"f"],[1,400,1,64],[1,411,1,64,"t"],[1,416,1,64,"e"],[1,418,1,64],[1,430,1,64,"t"],[1,433,1,64],[1,436,1,64,"hasOwnProperty"],[1,451,1,64,"call"],[1,456,1,64,"e"],[1,458,1,64,"t"],[1,464,1,64,"i"],[1,467,1,64,"o"],[1,469,1,64,"Object"],[1,476,1,64,"defineProperty"],[1,493,1,64,"Object"],[1,500,1,64,"getOwnPropertyDescriptor"],[1,525,1,64,"e"],[1,527,1,64,"t"],[1,533,1,64,"i"],[1,535,1,64,"get"],[1,540,1,64,"i"],[1,542,1,64,"set"],[1,547,1,64,"o"],[1,549,1,64,"f"],[1,551,1,64,"t"],[1,553,1,64,"i"],[1,556,1,64,"f"],[1,558,1,64,"t"],[1,561,1,64,"e"],[1,563,1,64,"t"],[1,567,1,64],[1,574,1,64,"f"],[1,575,1,64],[1,578,1,64,"e"],[1,580,1,64,"t"],[1,582,1,64],[1,584,1,0,"_interopRequireWildcard"],[1,585,1,0,"_r"],[1,588,1,0,"d"],[1,590,1,0],[1,595,1,64,"_View"],[1,597,1,64,"_interopRequireDefault"],[1,599,1,64,"_r"],[1,602,1,64,"d"],[1,604,1,64],[1,609,1,64,"_Text"],[1,611,1,64,"_interopRequireDefault"],[1,613,1,64,"_r"],[1,616,1,64,"d"],[1,618,1,64],[1,623,1,64,"_StyleSheet"],[1,625,1,64,"_interopRequireDefault"],[1,627,1,64,"_r"],[1,630,1,64,"d"],[1,632,1,64],[1,637,1,64,"_jsxRuntime"],[1,639,1,64,"_r"],[1,642,1,64,"d"],[1,644,1,64],[1,648,5,0],[1,654,209,6,"styles"],[1,656,209,15,"StyleSheet"],[1,666,209,26,"create"],[1,673,209,33],[1,674,210,2,"container"],[1,684,210,13],[1,685,211,4,"marginBottom"],[1,698,211,18],[1,702,213,2,"mapHeader"],[1,712,213,13],[1,713,214,4,"marginBottom"],[1,726,214,18],[1,730,216,2,"mapTitle"],[1,739,216,12],[1,740,217,4,"fontSize"],[1,749,217,14],[1,752,218,4,"fontWeight"],[1,763,218,16],[1,769,219,4,"marginBottom"],[1,782,219,18],[1,785,221,2,"mapSubtitle"],[1,797,221,15],[1,798,222,4,"fontSize"],[1,807,222,14],[1,810,223,4,"color"],[1,816,223,11],[1,824,225,2,"loadingText"],[1,836,225,15],[1,837,226,4,"textAlign"],[1,847,226,15],[1,856,227,4,"fontSize"],[1,865,227,14],[1,868,228,4,"padding"],[1,876,228,13],[1,879,229,4,"color"],[1,885,229,11],[1,893,231,2,"mapLegend"],[1,903,231,13],[1,904,232,4,"flexDirection"],[1,918,232,19],[1,924,233,4,"justifyContent"],[1,939,233,20],[1,954,234,4,"marginTop"],[1,964,234,15],[1,966,235,4,"paddingHorizontal"],[1,984,235,23],[1,988,237,2,"legendItem"],[1,999,237,14],[1,1000,238,4,"fontSize"],[1,1009,238,14],[1,1012,239,4,"color"],[1,1018,239,11],[1,1028,241,3,"_e"],[1,1031,241,3,"default"],[1,1039,5,23,"GoogleMapsView"],[1,1041,5,26,"incident"],[1,1052,5,36,"user"],[1,1059,5,42,"token"],[1,1071,6,2],[1,1077,6,9,"map"],[1,1079,6,14,"setMap"],[1,1083,6,24],[1,1085,6,24,"useState"],[1,1097,6,33],[1,1104,7,9,"isLoaded"],[1,1106,7,19,"setIsLoaded"],[1,1110,7,34],[1,1112,7,34,"useState"],[1,1125,7,43],[1,1129,8,9,"officers"],[1,1131,8,19,"setOfficers"],[1,1135,8,34],[1,1137,8,34,"useState"],[1,1149,8,43],[1,1154,14,2],[1,1156,14,2,"useEffect"],[1,1169,14,12],[1,1174,22,15,"window"],[1,1181,22,22,"google"],[1,1189,23,6,"setIsLoaded"],[1,1192,23,18],[1,1196,25,5],[1,1200,28,2],[1,1206,28,8,"loadOfficerPositions"],[1,1209,28,31],[1,1211,28,31,"useCallback"],[1,1226,28,43,"async"],[1,1236,29,4],[1,1240,30,6],[1,1246,30,12,"config"],[1,1248,30,21,"token"],[1,1250,30,29],[1,1251,31,8,"headers"],[1,1259,31,17],[1,1260,31,19,"Authorization"],[1,1274,31,34],[1,1284,31,44,"token"],[1,1290,32,10],[1,1291,32,11],[1,1293,34,12,"response"],[1,1301,34,29,"fetch"],[1,1307,34,35],[1,1355,34,68,"config"],[1,1358,35,6],[1,1361,35,10,"response"],[1,1363,35,19,"ok"],[1,1366,35,23],[1,1367,36,8],[1,1373,36,14,"locations"],[1,1381,36,32,"response"],[1,1383,36,41,"json"],[1,1390,37,8,"setOfficers"],[1,1392,37,20,"locations"],[1,1394,38,6],[1,1395,39,4],[1,1396,39,6],[1,1402,39,13,"error"],[1,1405,40,6,"console"],[1,1413,40,14,"error"],[1,1419,40,20],[1,1463,40,65,"error"],[1,1465,41,4],[1,1468,42,5],[1,1469,42,6,"token"],[1,1474,45,2],[1,1476,45,2,"useEffect"],[1,1489,45,12],[1,1494,46,8,"isLoaded"],[1,1497,54,5],[1,1498,54,6,"isLoaded"],[1,1500,54,16,"incident"],[1,1502,54,26,"loadOfficerPositions"],[1,1506,56,2],[1,1512,120,8,"addOfficerMarkers"],[1,1514,120,29,"mapInstance"],[1,1518,121,9,"mapInstance"],[1,1521,121,25,"window"],[1,1528,121,32,"google"],[1,1536,123,4,"officers"],[1,1538,123,13,"forEach"],[1,1546,123,21],[1,1547,123,22,"officer"],[1,1549,123,31,"index"],[1,1554,124,6],[1,1557,124,10,"officer"],[1,1559,124,18,"location"],[1,1569,124,30,"officer"],[1,1571,124,38,"location"],[1,1580,124,47,"lat"],[1,1585,124,54,"officer"],[1,1587,124,62,"location"],[1,1596,124,71,"lng"],[1,1600,124,76],[1,1601,125,8],[1,1607,125,14,"officerMarker"],[1,1609,125,30],[1,1613,125,34,"window"],[1,1620,125,41,"google"],[1,1627,125,48,"maps"],[1,1632,125,53,"Marker"],[1,1639,125,60],[1,1640,126,10,"position"],[1,1649,126,20],[1,1650,127,12,"lat"],[1,1654,127,17,"officer"],[1,1656,127,25,"location"],[1,1665,127,34,"lat"],[1,1669,128,12,"lng"],[1,1673,128,17,"officer"],[1,1675,128,25,"location"],[1,1684,128,34,"lng"],[1,1689,130,10,"map"],[1,1693,130,15,"mapInstance"],[1,1695,131,10,"title"],[1,1701,131,17],[1,1712,131,28,"index"],[1,1714,131,36],[1,1718,132,10,"icon"],[1,1723,132,16],[1,1724,133,12,"url"],[1,1728,133,17],[1,1764,133,55,"encodeURIComponent"],[1,1783,133,74],[1,2178,139,12,"scaledSize"],[1,2189,139,24],[1,2193,139,28,"window"],[1,2200,139,35,"google"],[1,2207,139,42,"maps"],[1,2212,139,47,"Size"],[1,2217,139,52],[1,2220,139,56],[1,2227,144,14,"incidentLatLng"],[1,2229,144,31],[1,2233,144,35,"window"],[1,2240,144,42,"google"],[1,2247,144,49,"maps"],[1,2252,144,54,"LatLng"],[1,2259,144,61,"incident"],[1,2261,144,70,"location"],[1,2270,144,79,"lat"],[1,2274,144,84,"incident"],[1,2276,144,93,"location"],[1,2285,144,102,"lng"],[1,2290,145,14,"officerLatLng"],[1,2292,145,30],[1,2296,145,34,"window"],[1,2303,145,41,"google"],[1,2310,145,48,"maps"],[1,2315,145,53,"LatLng"],[1,2322,145,60,"officer"],[1,2324,145,68,"location"],[1,2333,145,77,"lat"],[1,2337,145,82,"officer"],[1,2339,145,90,"location"],[1,2348,145,99,"lng"],[1,2353,147,14,"distanceKm"],[1,2356,146,25,"window"],[1,2363,146,32,"google"],[1,2370,146,39,"maps"],[1,2375,146,44,"geometry"],[1,2384,146,53,"spherical"],[1,2394,146,63,"computeDistanceBetween"],[1,2417,146,86,"incidentLatLng"],[1,2419,146,102,"officerLatLng"],[1,2422,147,39],[1,2427,147,45,"toFixed"],[1,2435,147,53],[1,2438,149,14,"officerInfoWindow"],[1,2440,149,34],[1,2444,149,38,"window"],[1,2451,149,45,"google"],[1,2458,149,52,"maps"],[1,2463,149,57,"InfoWindow"],[1,2474,149,68],[1,2475,150,10,"content"],[1,2483,150,19],[1,2648,152,77,"index"],[1,2650,152,85],[1,2830,154,87,"distanceKm"],[1,2949,156,40],[1,2953,156,44,"Date"],[1,2958,156,49,"officer"],[1,2960,156,57,"timestamp"],[1,2971,156,68,"toLocaleTimeString"],[1,2990,156,87],[1,3055,162,8,"officerMarker"],[1,3057,162,22,"addListener"],[1,3069,162,34],[1,3077,162,43],[1,3082,163,10,"officerInfoWindow"],[1,3084,163,28,"open"],[1,3089,163,33,"mapInstance"],[1,3091,163,46,"officerMarker"],[1,3095,165,6],[1,3100,176,2],[1,3107,170,2],[1,3109,170,2,"useEffect"],[1,3122,170,12],[1,3127,171,8,"map"],[1,3130,171,15,"officers"],[1,3132,171,24,"length"],[1,3139,171,33],[1,3142,172,6,"addOfficerMarkers"],[1,3144,172,24,"map"],[1,3148,174,5],[1,3149,174,6,"officers"],[1,3151,174,16,"map"],[1,3155,176,7,"isLoaded"],[1,3158,185,4],[1,3160,185,4,"_jsxRuntime"],[1,3162,185,4,"jsxs"],[1,3168,185,5,"_View"],[1,3170,185,5,"default"],[1,3178,185,9],[1,3179,185,10,"style"],[1,3185,185,17,"styles"],[1,3187,185,24,"container"],[1,3197,185,34,"children"],[1,3206,185,34],[1,3208,186,6],[1,3210,186,6,"_jsxRuntime"],[1,3212,186,6,"jsxs"],[1,3218,186,7,"_View"],[1,3220,186,7,"default"],[1,3228,186,11],[1,3229,186,12,"style"],[1,3235,186,19,"styles"],[1,3237,186,26,"mapHeader"],[1,3247,186,36,"children"],[1,3256,186,36],[1,3258,187,8],[1,3260,187,8,"_jsxRuntime"],[1,3262,187,8,"jsx"],[1,3267,187,9,"_Text"],[1,3269,187,9,"default"],[1,3277,187,13],[1,3278,187,14,"style"],[1,3284,187,21,"styles"],[1,3286,187,28,"mapTitle"],[1,3295,187,37,"children"],[1,3304,187,38],[1,3339,188,8],[1,3341,188,8,"_jsxRuntime"],[1,3343,188,8,"jsxs"],[1,3349,188,9,"_Text"],[1,3351,188,9,"default"],[1,3359,188,13],[1,3360,188,14,"style"],[1,3366,188,21,"styles"],[1,3368,188,28,"mapSubtitle"],[1,3380,188,40,"children"],[1,3389,188,40],[1,3390,188,41],[1,3461,189,39,"officers"],[1,3463,189,48,"length"],[1,3470,189,55],[1,3497,192,6],[1,3499,192,6,"_jsxRuntime"],[1,3501,192,6,"jsx"],[1,3506,192,6],[1,3513,193,8,"id"],[1,3516,193,11],[1,3529,194,8,"style"],[1,3535,194,15],[1,3536,195,10,"width"],[1,3542,195,17],[1,3549,196,10,"height"],[1,3556,196,18],[1,3560,197,10,"borderRadius"],[1,3573,197,24],[1,3576,198,10,"border"],[1,3583,198,18],[1,3607,201,6],[1,3609,201,6,"_jsxRuntime"],[1,3611,201,6,"jsxs"],[1,3617,201,7,"_View"],[1,3619,201,7,"default"],[1,3627,201,11],[1,3628,201,12,"style"],[1,3634,201,19,"styles"],[1,3636,201,26,"mapLegend"],[1,3646,201,36,"children"],[1,3655,201,36],[1,3657,202,8],[1,3659,202,8,"_jsxRuntime"],[1,3661,202,8,"jsx"],[1,3666,202,9,"_Text"],[1,3668,202,9,"default"],[1,3676,202,13],[1,3677,202,14,"style"],[1,3683,202,21,"styles"],[1,3685,202,28,"legendItem"],[1,3696,202,39,"children"],[1,3705,202,40],[1,3740,203,8],[1,3742,203,8,"_jsxRuntime"],[1,3744,203,8,"jsx"],[1,3749,203,9,"_Text"],[1,3751,203,9,"default"],[1,3759,203,13],[1,3760,203,14,"style"],[1,3766,203,21,"styles"],[1,3768,203,28,"legendItem"],[1,3779,203,39,"children"],[1,3788,203,40],[1,3831,178,6],[1,3833,178,6,"_jsxRuntime"],[1,3835,178,6,"jsx"],[1,3840,178,7,"_View"],[1,3842,178,7,"default"],[1,3850,178,11],[1,3851,178,12,"style"],[1,3857,178,19,"styles"],[1,3859,178,26,"container"],[1,3869,178,36,"children"],[1,3879,179,8],[1,3881,179,8,"_jsxRuntime"],[1,3883,179,8,"jsx"],[1,3888,179,9,"_Text"],[1,3890,179,9,"default"],[1,3898,179,13],[1,3899,179,14,"style"],[1,3905,179,21,"styles"],[1,3907,179,28,"loadingText"],[1,3919,179,40,"children"],[1,3928,179,41],[1,3973,243,29],[1,3976]],"functionMap":{"names":["<global>","GoogleMapsView","useEffect$argument_0","script.onload","loadOfficerPositions","<anonymous>","initializeMap","incidentMarker.addListener$argument_1","addOfficerMarkers","officers.forEach$argument_0","officerMarker.addListener$argument_1"],"mappings":"AAA;uBCI;YCS;sBCM,uBD;GDK;2CGG;GHc;YCG;aGO,6BH;GDE;wBKE;wCCwD;KDE;GLI;4BOE;qBCG;2CCuC;SDE;KDE;GPC;YCG;GDI;CDiC"}},"type":"js/module"}]}